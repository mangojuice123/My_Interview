- [常见问题](#常见问题)
  - [常见限流算法有哪些？](#常见限流算法有哪些)

</br></br>

# 常见问题
## 常见限流算法有哪些？
答：
1. 计数器固定窗口算法：对一段固定时间窗口内的请求进行计数。
   - 一段时间内（不超过时间窗口）系统服务不可用。
   - 窗口切换时可能会产生两倍于阈值流量多请求。
   - ![计数器固定窗口算法](https://pic1.zhimg.com/v2-d7b9d6a5ce93f69a081c3c1c4e9d5550_b.jpg)
2. 滑动窗口算法：在固定窗口的基础上，将一个计时窗口分成了若干个小窗口，每个小窗口维护一个独立的计数器。
   - 解决了固定窗口切换时可能会产生两倍于阈值流量请求的缺点。
   - ![滑动窗口算法](https://pic4.zhimg.com/v2-7c7e4e0b75bf68a5b955aaf4f341177b_b.jpg)
3. Leaky bucket：控制数据注入到网络的速率，平滑网络上的突发流量，保护系统安全。
   - 可能产生饥饿问题（无法处理新来的请求）。
   - 桶满时会造成溢出，请求被直接丢弃。
   - ![Leaky bucket](https://upload.wikimedia.org/wikipedia/commons/e/e1/LeakyBucket.png)
4. Token bucket：存在一个令牌桶，算法中存在一种机制以恒定的速率向令牌桶中放入令牌。令牌桶也有一定的容量，如果满了令牌就无法放进去了。当请求来时，会首先到令牌桶中去拿令牌，如果拿到了令牌，则该请求会被处理，并消耗掉拿到的令牌；如果令牌桶为空，则该请求会被搁置或丢弃。
   - 允许一定程度上的流量突发。如果突发门限被合理地配置，并且令牌桶中有足够的令牌，那么流量就可以以峰值速率发送。
   - Leaky bucket 限制常量流出速率，从而平滑突发流入速率；Token bucket 限制平均流入速率，并允许一定程度的突发流量。
   - ![Token bucket](https://segmentfault.com/img/remote/1460000039304303)

