- [常见问题](#常见问题)
  - [为什么要使用消息队列？](#为什么要使用消息队列)
  - [使用了消息队列会有什么缺点？](#使用了消息队列会有什么缺点)
  - [常用的消息队列有哪些？](#常用的消息队列有哪些)
  - [如何保证消息队列是高可用的？](#如何保证消息队列是高可用的)
  - [如何保证消息队列的幂等性？](#如何保证消息队列的幂等性)
  - [如何保证信息的可靠性传输？](#如何保证信息的可靠性传输)
- [公司](#公司)


</br></br>


# 常见问题
## 为什么要使用消息队列？
答：
- 异步：消息队列的主要特点是异步处理，主要目的是为了减少响应时间和解耦。
- 解耦
- 削峰


## 使用了消息队列会有什么缺点？
答：
- 系统可用性降低：如果消息队列出问题，那么整个系统会变得不可用。
- 系统复杂性增加


## 常用的消息队列有哪些？
答：
- ActiveMQ
- RabbitMQ：吞吐量较小，并发能力强，性能极好，功能较为完备。
- RocketMQ
- Kafka：可用性非常高（分布式架构），只支持主要的 MQ 功能，是事实上的标准。


## 如何保证消息队列是高可用的？
答：
- 使用消息队列的集群模式。 


## 如何保证消息队列的幂等性？
答：
- 根据不同的业务场景，使用不同的方法：
  - 对于数据库的 INSERT 操作，设置唯一主键；
  - Redis 的 Set 操作（本身就是幂等的操作）；
  - 准备第三方介质，给消息分配一个全局 ID，消费者消费前首先要去查询有没有消费记录；


## 如何保证信息的可靠性传输？
答：
- 生产者弄丢数据：使用 Transaction 机制。发送消息前，开启事务，然后发送消息；如果发送消息出现什么异常，事务回滚。
- 消息队列弄丢数据：持久化机制。
- 消费者弄丢数据：手动确认消息。


</br></br>


# 公司
- 2021-11 小红书